<?xml version="1.0" encoding="UTF-8"?>

<!-- ======================================================================= -->
<!-- Compare UI Plugin                                                       -->
<!-- ======================================================================= -->

<plugin
	name="%pluginName"
	id="org.eclipse.compare"
	version="2.1.0"
	provider-name="%providerName"
	class="org.eclipse.compare.internal.CompareUIPlugin">

	<requires>
      <import plugin="org.eclipse.ui"/>
      <import plugin="org.eclipse.core.resources"/>
	</requires>

	<runtime>
		<library name="compare.jar" >
			<export name="*"/>
     		<packages prefixes="org.eclipse.compare"/>
		</library>
	</runtime>
		   
<!-- Compare extension point definitions -->

	<extension-point
		id="structureCreators"
		name="%structureCreators"
		schema="schema/structureCreators.exsd"
	/>
		
	<extension-point
		id="structureMergeViewers"
		name="%structureMergeViewers"
		schema="schema/structureMergeViewers.exsd"
	/>
		
	<extension-point
		id="contentMergeViewers"
		name="%contentMergeViewers"
		schema="schema/contentMergeViewers.exsd"
	/>
		
	<extension-point
		id="contentViewers"
		name="%contentViewers"
		schema="schema/contentViewers.exsd"
	/>

<!-- Extensions -->

	<extension point="org.eclipse.ui.fontDefinitions">
		<fontDefinition
			label="%compareFontDefiniton.label"
			id="org.eclipse.compare.contentmergeviewer.TextMergeViewer"
			defaultsTo="org.eclipse.jface.textfont">
	        <description>
				%compareFontDefiniton.description
			</description>
		</fontDefinition>
	</extension>

	<extension point="org.eclipse.core.resources.markers"
		id="rejectedPatchMarker" name="%rejectedPatchMarker.name">
		<super type="org.eclipse.core.resources.taskmarker"/>
		<persistent value="true"/>
	</extension>

	<extension point="org.eclipse.ui.editors">
    	<editor id="org.eclipse.compare.CompareEditor"
      		name="%defaultCompareEditor.name"
 			icon="icons/full/cview16/compare_view.gif"     	  
      		class="org.eclipse.compare.internal.CompareEditor"
			contributorClass="org.eclipse.compare.internal.CompareEditorContributor">
    	</editor>
	</extension>

	<extension
		point="org.eclipse.ui.preferencePages">
		<page name="%ComparePreferencePage.name"
			id="org.eclipse.compare.internal.ComparePreferencePage"
			class="org.eclipse.compare.internal.ComparePreferencePage"
			category= "org.eclipse.ui.preferencePages.Workbench">
		</page>	
	</extension>

	<!-- commands and their bindings -->   
	<extension point="org.eclipse.ui.commands">
	
		<category
			name="%compareCategory.name"
			description="%compareCategory.description"
			id="org.eclipse.compare.ui.category.compare"
		/>

		<command
			category="org.eclipse.compare.ui.category.compare"
			id="org.eclipse.compare.copyRightToLeft"
			name= "%Command.copyRightToLeft.name"
			description="%Command.copyRightToLeft.description"
		/>
		<keyBinding
			string=""
			scope="org.eclipse.ui.globalScope"
			command="org.eclipse.compare.copyRightToLeft"
			configuration="org.eclipse.ui.defaultAcceleratorConfiguration"
		/>
		<keyBinding
			string=""
			scope="org.eclipse.ui.globalScope"
			command="org.eclipse.compare.copyRightToLeft"
			configuration="org.eclipse.ui.emacsAcceleratorConfiguration"
		/>
		
 		<command
			category="org.eclipse.compare.ui.category.compare"
			id="org.eclipse.compare.copyLeftToRight"
			name= "%Command.copyLeftToRight.name"
			description="%Command.copyLeftToRight.description"
		/>
		<keyBinding
			string=""
			scope="org.eclipse.ui.globalScope"
			command="org.eclipse.compare.copyLeftToRight"
			configuration="org.eclipse.ui.defaultAcceleratorConfiguration"
		/>
		<keyBinding
			string=""
			scope="org.eclipse.ui.globalScope"
			command="org.eclipse.compare.copyLeftToRight"
			configuration="org.eclipse.ui.emacsAcceleratorConfiguration"
		/>

		<command
			category="org.eclipse.compare.ui.category.compare"
			id="org.eclipse.compare.copyAllRightToLeft"
			name= "%Command.copyAllRightToLeft.name"
			description="%Command.copyAllRightToLeft.description"
		/>
		<keyBinding
			string=""
			scope="org.eclipse.ui.globalScope"
			command="org.eclipse.compare.copyAllRightToLeft"
			configuration="org.eclipse.ui.defaultAcceleratorConfiguration"
		/>
		<keyBinding
			string=""
			scope="org.eclipse.ui.globalScope"
			command="org.eclipse.compare.copyAllRightToLeft"
			configuration="org.eclipse.ui.emacsAcceleratorConfiguration"
		/>

		<command
			category="org.eclipse.compare.ui.category.compare"
			id="org.eclipse.compare.copyAllLeftToRight"
			name= "%Command.copyAllLeftToRight.name"
			description="%Command.copyAllLeftToRight.description"
		/>
		<keyBinding
			string=""
			scope="org.eclipse.ui.globalScope"
			command="org.eclipse.compare.copyAllLeftToRight"
			configuration="org.eclipse.ui.defaultAcceleratorConfiguration"
		/>
		<keyBinding
			string=""
			scope="org.eclipse.ui.globalScope"
			command="org.eclipse.compare.copyAllLeftToRight"
			configuration="org.eclipse.ui.emacsAcceleratorConfiguration"
		/>

		<command
			category="org.eclipse.compare.ui.category.compare"
			id="org.eclipse.compare.selectNextChange"
			name= "%Command.selectNextChange.name"
			description="%Command.selectNextChange.description"
		/>
		<keyBinding
			string=""
			scope="org.eclipse.ui.globalScope"
			command="org.eclipse.compare.selectNextChange"
			configuration="org.eclipse.ui.defaultAcceleratorConfiguration"
		/>
		<keyBinding
			string=""
			scope="org.eclipse.ui.globalScope"
			command="org.eclipse.compare.selectNextChange"
			configuration="org.eclipse.ui.emacsAcceleratorConfiguration"
		/>
		
		<command
			category="org.eclipse.compare.ui.category.compare"
			id="org.eclipse.compare.selectPreviousChange"
			name= "%Command.selectPreviousChange.name"
			description="%Command.selectPreviousChange.description"
		/>
		<keyBinding
			string=""
			scope="org.eclipse.ui.globalScope"
			command="org.eclipse.compare.selectPreviousChange"
			configuration="org.eclipse.ui.defaultAcceleratorConfiguration"
		/>
		<keyBinding
			string=""
			scope="org.eclipse.ui.globalScope"
			command="org.eclipse.compare.selectPreviousChange"
			configuration="org.eclipse.ui.emacsAcceleratorConfiguration"
		/>

	</extension>

	<extension point="org.eclipse.ui.popupMenus">
	
		<objectContribution
			id="org.eclipse.compare.CompareAction"
			objectClass="org.eclipse.core.resources.IResource" adaptable="true">
			<menu
				id="replaceWithMenu"
				path="additions"
				label="%ReplaceWithMenu.label">
				<separator name="replaceWithGroup"/>
			</menu>
			<menu
				id="compareWithMenu"
				path="additions"
				label="%CompareWithMenu.label">
				<separator name="compareWithGroup"/>
			</menu>
			<menu
				id="team.main"
				path="additions"
				label="%TeamMenu.label">
				<separator name="group1"/>
			</menu>
			<action
				id="compareWithEachOther"
				label="%CompareWithEachOtherAction.label"
				tooltip="%CompareWithEachOtherAction.tooltip"
				menubarPath="compareWithMenu/compareWithGroup"
				enablesFor="2+"
				class="org.eclipse.compare.internal.CompareAction">
			</action>
			<action
				id="compareWithPatch"
				label="%CompareWithPatchAction.label"
				tooltip="%CompareWithPatchAction.tooltip"
				menubarPath="team.main/group1"
				enablesFor="1"
				class="org.eclipse.compare.internal.patch.CompareWithPatchAction">
			</action>
						
		</objectContribution>
		
		<objectContribution
			id="org.eclipse.compare.ReplaceWithEditionAction"
			objectClass="org.eclipse.core.resources.IFile" adaptable="true">
			<menu
				id="replaceWithMenu"
				path="additions"
				label="%ReplaceWithMenu.label">
				<separator name="replaceWithGroup"/>
			</menu>
			<action
				id="replaceFromHistory"
				label="%ReplaceFromHistoryAction.label"
				tooltip="%ReplaceFromHistoryAction.tooltip"
				menubarPath="replaceWithMenu/replaceWithGroup"
				enablesFor="1"
				class="org.eclipse.compare.internal.ReplaceWithEditionAction">
			</action>
			<action
				id="replaceWithPreviousFromHistory"
				label="%ReplaceWithPreviousFromHistoryAction.label"
				tooltip="%ReplaceWithPreviousFromHistoryAction.tooltip"
				menubarPath="replaceWithMenu/replaceWithGroup"
				enablesFor="1"
				class="org.eclipse.compare.internal.ReplaceWithPreviousEditionAction">
			</action>
		</objectContribution>
		
		<objectContribution
			id="org.eclipse.compare.CompareWithEditionAction"
			objectClass="org.eclipse.core.resources.IFile" adaptable="true">
			<menu
				id="compareWithMenu"
				path="additions"
				label="%CompareWithMenu.label">
				<separator name="compareWithGroup"/>
			</menu>
			<action
				id="compareWithHistory"
				label="%CompareWithHistoryAction.label"
				tooltip="%CompareWithHistoryAction.tooltip"
				menubarPath="compareWithMenu/compareWithGroup"
				enablesFor="1"
				class="org.eclipse.compare.internal.CompareWithEditionAction">
			</action>
		</objectContribution>
			
		<objectContribution
			id="org.eclipse.compare.AddFromHistoryAction"
			objectClass="org.eclipse.core.resources.IContainer" adaptable="true">
			<action
				id="addFromHistoryAction"
				label="%addFromHistoryAction.label"
				tooltip="%addFromHistoryAction.tooltip"
				menubarPath="replaceWithMenu"
				enablesFor="1"
				class="org.eclipse.compare.internal.AddFromHistoryAction">
			</action>
		</objectContribution>

	</extension>

	<extension point="org.eclipse.compare.structureCreators">
		<structureCreator
			id="org.eclipse.compare.ZipFileStructureCreator"
			extensions="zip"
			class="org.eclipse.compare.ZipFileStructureCreator">
		</structureCreator>
	</extension>
	
	<extension point="org.eclipse.compare.contentMergeViewers">
		<viewer
			id="org.eclipse.compare.BinaryCompareViewerCreator"
			extensions="class,exe,dll,binary,zip,jar"
			class="org.eclipse.compare.internal.BinaryCompareViewerCreator">
		</viewer>
		<viewer
			id="org.eclipse.compare.TextMergeViewerCreator"
			extensions="txt"
			class="org.eclipse.compare.internal.TextMergeViewerCreator">
		</viewer>
		<viewer
			id="org.eclipse.compare.ImageMergeViewerCreator"
			extensions="gif,jpg"
			class="org.eclipse.compare.internal.ImageMergeViewerCreator">
		</viewer>
	</extension>
	
	<extension point="org.eclipse.compare.contentViewers">
		<viewer
			id="org.eclipse.compare.TextViewerCreator"
			extensions="txt"
			class="org.eclipse.compare.internal.TextViewerCreator">
		</viewer>
	</extension>

</plugin>

